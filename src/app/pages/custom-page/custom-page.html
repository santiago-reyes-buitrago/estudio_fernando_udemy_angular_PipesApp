<uncommon-card title="Pipes Personalizados">
  <p>{{ 'custom - page works!' | toogleCase:flag() }}</p>

  <button class="btn btn-primary" (click)="handleFlag()">toogleCase</button>

  <div class="divider my-2"></div>

  <section>
    <h1 class="text-2xl font-bold">Filtrando por: {{search()}}, Ordendando por: {{sortBy()}}</h1>
    <div class="flex gap-2 justify-end w-full mt-2">
      <input type="text" class="input input-bordered w-full max-w-xs"
             placeholder="Filtrar por nombre" #txtSearch (input)="search.set(txtSearch.value)" />
      <div class="flex flex-1"></div>
    </div>
    <div class="flex gap-2 justify-end w-full my-2">
      <button class="btn btn-primary" (click)="handleSortBy(null)">
        Todos
      </button>
      <button class="btn btn-primary" (click)="handleSortBy('id')">
        por id
      </button>
      <button class="btn btn-primary" (click)="handleSortBy('name')">
        por nombre
      </button>
      <button class="btn btn-accent" (click)="handleSortBy('canFly')">
        por puede volar
      </button>
      <button class="btn btn-secondary" (click)="handleSortBy('color')">
        por color
      </button>
      <button class="btn btn-info" (click)="handleSortBy('creator')">
        por creador
      </button>
    </div>
  </section>

  <section class="overflow-x-auto w-full">
    <table class="table table-xs">
      <thead>
      <tr>
        <th>#</th>
        <th>Name</th>
        <th>Puede Volar</th>
        <th>Color</th>
        <th>Creador</th>
      </tr>
      </thead>
      <tbody>
        @for (hero of heroes() | heroFilter:search() | heroSortBy:sortBy(); track hero.id){
          <tr>
            <td>{{hero.id}}</td>
            <td>{{hero.name}}</td>
            <td>
              <span class="text-xs w-44"
                    [class.text-success]="hero.canFly"
                    [class.text-accent]="!hero.canFly"
              >
                {{hero.canFly | booleanResponseCase:'Puede Volar':'No Puede Volar'}}
              </span>
            </td>
            <td>
              <span class="text-xs w-44" [style.color]="hero.color | colorMap">
                {{hero.color | color | titlecase}}
              </span>
            </td>
            <td>{{hero.creator | booleanResponseCase: 'Marvel':'DC' | titlecase}}</td>
          </tr>
        } @empty {
          <tr>
            <td colspan="4">No se encontro informacion.</td>
          </tr>
        }
      </tbody>
      <tfoot>
      <tr>
        <th>#</th>
        <th>Name</th>
        <th>Puede Volar</th>
        <th>Color</th>
        <th>Creador</th>
      </tr>
      </tfoot>
    </table>
  </section>

</uncommon-card>
